"use strict";(self.webpackChunkturisTrazo=self.webpackChunkturisTrazo||[]).push([[202],{938:(x,m,r)=>{r.d(m,{K:()=>o});var s=r(8256),p=r(6895);function e(d,_){1&d&&(s.O4$(),s.TgZ(0,"svg",12),s._UZ(1,"path",13),s.qZA())}const f=function(){return[]};let o=(()=>{class d{static#e=this.\u0275fac=function(u){return new(u||d)};static#t=this.\u0275cmp=s.Xpm({type:d,selectors:[["resenas-card"]],inputs:{imgagenUrl:"imgagenUrl",resena:"resena"},decls:20,vars:16,consts:[[1,"relative","flex","w-full","max-w-[26rem]","flex-col","rounded-xl","bg-transparent","bg-clip-border","text-gray-700","shadow-lg","shadow-gray-600","p-5"],[1,"relative","mx-0","mt-4","flex","items-center","gap-4","overflow-hidden","rounded-xl","bg-transparent","bg-clip-border","pt-0","pb-8","text-gray-700","shadow-none"],[1,"fa-solid","fa-user","fa-2xl",2,"color","#616161"],[1,"flex","w-full","flex-col","gap-0.5"],[1,"flex","items-center","justify-between"],[1,"block","font-sans","text-base","font-semibold","leading-snug","tracking-normal","text-blue-gray-900","antialiased"],[1,"5","flex","items-center","gap-0"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor","aria-hidden","true","class","h-5 w-5 text-yellow-700",4,"ngFor","ngForOf"],[1,"block","font-sans","text-sm","font-light","leading-relaxed","text-blue-gray-900","antialiased"],[1,"mb-6","p-0"],[1,"text-base","md:text-base","font-semibold","mb-2"],[1,"block","font-sans","text-base","font-light","leading-relaxed","text-inherit","antialiased"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor","aria-hidden","true",1,"h-5","w-5","text-yellow-700"],["fill-rule","evenodd","d","M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z","clip-rule","evenodd"]],template:function(u,a){1&u&&(s.TgZ(0,"div",0)(1,"div",1),s._UZ(2,"i",2),s.TgZ(3,"div",3)(4,"div",4)(5,"h5",5),s._uU(6),s.ALo(7,"titlecase"),s.qZA(),s.TgZ(8,"div",6),s.YNc(9,e,2,0,"svg",7),s.qZA()(),s.TgZ(10,"p",8),s._uU(11),s.ALo(12,"date"),s.ALo(13,"titlecase"),s.ALo(14,"titlecase"),s.qZA()()(),s.TgZ(15,"div",9)(16,"h3",10),s._uU(17),s.qZA(),s.TgZ(18,"p",11),s._uU(19),s.qZA()()()),2&u&&(s.xp6(6),s.hij(" ",s.lcZ(7,7,null==a.resena||null==a.resena.turista?null:a.resena.turista.nombre)," "),s.xp6(3),s.Q6J("ngForOf",s.DdM(15,f).constructor(null==a.resena?null:a.resena.estrella)),s.xp6(2),s.lnq(" ",s.lcZ(12,9,null==a.resena?null:a.resena.fecha)," - Tour:",s.lcZ(13,11,null==a.resena||null==a.resena.tour?null:a.resena.tour.nombre)," - Gu\xeda: ",s.lcZ(14,13,null==a.resena||null==a.resena.tour||null==a.resena.tour.guia||null==a.resena.tour.guia.usuario?null:a.resena.tour.guia.usuario.nombre)," "),s.xp6(6),s.Oqu(null==a.resena?null:a.resena.titulo),s.xp6(2),s.hij(" ",null==a.resena?null:a.resena.descripcion," "))},dependencies:[p.sg,p.rS,p.uU]})}return d})()},6202:(x,m,r)=>{r.r(m),r.d(m,{ResenaCalificacionModule:()=>$});var s=r(6895),p=r(2045),e=r(8256),f=r(7440),o=r(4006),d=r(7185),_=r(7279),l=r(4322);function u(t,c){1&t&&e.GkF(0)}function a(t,c){if(1&t&&(e.ynx(0),e.YNc(1,u,1,0,"ng-container",26),e.BQk()),2&t){e.oxw(2);const n=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",n)}}function y(t,c){if(1&t&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&t){const n=c.$implicit;e.Q6J("value",n.id),e.xp6(1),e.Oqu(n.nombre)}}function w(t,c){1&t&&e.GkF(0)}function C(t,c){if(1&t&&(e.ynx(0),e.YNc(1,w,1,0,"ng-container",26),e.BQk()),2&t){e.oxw(2);const n=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",n)}}function U(t,c){1&t&&e.GkF(0)}function I(t,c){if(1&t&&(e.ynx(0),e.YNc(1,U,1,0,"ng-container",26),e.BQk()),2&t){e.oxw(2);const n=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",n)}}const O=function(t,c){return{"text-yellow-400":t,"text-gray-300":c}};function F(t,c){if(1&t&&(e.ynx(0),e._UZ(1,"input",28),e.TgZ(2,"label",29),e._uU(3," \u2605 "),e.qZA(),e.BQk()),2&t){const n=c.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("id","star-"+n)("value",n),e.xp6(1),e.Q6J("for","star-"+n)("ngClass",e.WLB(4,O,n<=(i.formResena.get("selectedRating").value||0),n>(i.formResena.get("selectedRating").value||0)))}}function S(t,c){1&t&&e.GkF(0)}function E(t,c){if(1&t&&(e.ynx(0),e.YNc(1,S,1,0,"ng-container",26),e.BQk()),2&t){e.oxw(2);const n=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",n)}}const R=function(t){return{"border-red-500":t}},P=function(){return[1,2,3,4,5]};function L(t,c){if(1&t){const n=e.EpF();e.TgZ(0,"div",5)(1,"div",6)(2,"h1",7),e._uU(3,"Escribe tu rese\xf1a"),e.qZA(),e.TgZ(4,"form",8),e.NdJ("ngSubmit",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.sendForm())}),e.TgZ(5,"div",9)(6,"div")(7,"div",10)(8,"label",11),e._uU(9,"T\xedtulo"),e.qZA(),e._UZ(10,"input",12),e.YNc(11,a,2,1,"ng-container",13),e.qZA(),e.TgZ(12,"div",10)(13,"label",14),e._uU(14,"Tour"),e.qZA(),e.TgZ(15,"select",15),e.YNc(16,y,2,2,"option",16),e.qZA(),e.YNc(17,C,2,1,"ng-container",13),e.qZA()(),e.TgZ(18,"div")(19,"div",10)(20,"label",17),e._uU(21,"Descripci\xf3n"),e.qZA(),e.TgZ(22,"textarea",18),e._uU(23,"                            >"),e.qZA(),e.YNc(24,I,2,1,"ng-container",13),e.qZA(),e.TgZ(25,"div",19)(26,"label",20),e._uU(27,"Selecciona un n\xfamero de estrellas:"),e.qZA(),e.TgZ(28,"div",21),e.YNc(29,F,4,7,"ng-container",22),e.qZA(),e.TgZ(30,"p",23),e._uU(31),e.qZA(),e.YNc(32,E,2,1,"ng-container",13),e.qZA()()(),e.TgZ(33,"div",24)(34,"button",25),e._uU(35,"Agregar Rese\xf1a"),e.qZA()()()()()}if(2&t){const n=e.oxw();let i,g,h,v,b,T,A,Z;e.xp6(4),e.Q6J("formGroup",n.formResena),e.xp6(6),e.Q6J("ngClass",e.VKq(11,R,(null==(i=n.formResena.get("titulo"))?null:i.invalid)&&n.formSend)),e.xp6(1),e.Q6J("ngIf",(null==(g=n.formResena.get("titulo"))?null:g.invalid)&&n.formSend),e.xp6(4),e.Q6J("ngClass",e.VKq(13,R,(null==(h=n.formResena.get("tour"))?null:h.invalid)&&n.formSend)),e.xp6(1),e.Q6J("ngForOf",n.listTour),e.xp6(1),e.Q6J("ngIf",(null==(v=n.formResena.get("tour"))?null:v.invalid)&&n.formSend),e.xp6(5),e.Q6J("ngClass",e.VKq(15,R,(null==(b=n.formResena.get("descripcion"))?null:b.invalid)&&n.formSend)),e.xp6(2),e.Q6J("ngIf",(null==(T=n.formResena.get("descripcion"))?null:T.invalid)&&n.formSend),e.xp6(5),e.Q6J("ngForOf",e.DdM(17,P)),e.xp6(2),e.hij("Calificaci\xf3n seleccionada: ",(null==(A=n.formResena.get("selectedRating"))?null:A.value)||0," "),e.xp6(1),e.Q6J("ngIf",(null==(Z=n.formResena.get("selectedRating"))?null:Z.invalid)&&n.formSend)}}function M(t,c){1&t&&(e.TgZ(0,"div",30),e._uU(1,"Este campo es requerido."),e.qZA())}let J=(()=>{class t{constructor(n,i,g,h,v){this.toastr=n,this.tourService=i,this.fb=g,this.authService=h,this.resenaService=v,this.showFormResena=!1,this.listTour=[],this.formResena=this.fb.group({titulo:["",o.kI.required],tour:[null,o.kI.required],descripcion:["",o.kI.required],selectedRating:[null,o.kI.required]}),this.formSend=!1}ngOnInit(){this.tourService.getAllTour().subscribe(n=>this.listTour=n)}toggleFormulario(){this.showFormResena=!this.showFormResena}sendForm(){if(this.formSend=!0,!this.formResena.invalid){if(this.user=this.authService.getUser(),null==this.user||null==this.user)return;{const n={id:this.formResena.get("tour")?.value||0,imagen:"",nombre:""},i={id:35,turista:this.user,descripcion:this.formResena.get("descripcion")?.value||"",estrella:this.formResena.get("selectedRating")?.value||0,titulo:this.formResena.get("titulo")?.value||"",tour:n,fecha:new Date};this.resenaService.saveResena(i).subscribe(g=>{this.toastr.success("La Rese\xf1a fue creada con \xe9xito"),this.formResena.reset(),this.formSend=!1,this.showFormResena=!1})}}}static#e=this.\u0275fac=function(i){return new(i||t)(e.Y36(d._W),e.Y36(_.Q),e.Y36(o.qu),e.Y36(f.e),e.Y36(l.u))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["resena-registrar"]],decls:7,vars:1,consts:[[1,"row","mt-5","p-5"],["type","submit",1,"dark:bg-gray-900","text-white","font-semibold","px-6","py-2","rounded-lg","hover:bg-gray-700","transition","duration-300",3,"click"],[1,"fa-solid","fa-plus",2,"color","#ffffff"],["class","flex mt-10 justify-center container m-auto ",4,"ngIf"],["errorMessage",""],[1,"flex","mt-10","justify-center","container","m-auto"],[1,"bg-white","rounded-lg","shadow-xl","md:p-2","lg:p-2","w-full","md:w-full","lg:w-full","mx-auto","mb-4","p-10","pl-20","shadow-gray-900"],[1,"text-2xl","md:text-2x1","font-semibold","text-center","mb-6"],[3,"formGroup","ngSubmit"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"mb-4"],["for","titulo",1,"block","text-gray-700","font-semibold","mb-2"],["type","text","id","titulo","name","titulo","formControlName","titulo",1,"w-full","border","rounded-lg","px-4","py-2",3,"ngClass"],[4,"ngIf"],["for","tour",1,"block","text-gray-700","font-semibold","mb-2"],["id","tour","name","tour","formControlName","tour",1,"w-full","border","rounded-lg","px-4","py-2",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["for","descripcion",1,"block","text-gray-700","font-semibold","mb-2"],["id","descripcion","name","descripcion","formControlName","descripcion",1,"w-full","border","h-10","rounded-lg","px-4","py-2",3,"ngClass"],[1,"space-y-2"],[1,"block","text-gray-700"],[1,"flex","items-center","space-x-2"],[4,"ngFor","ngForOf"],[1,"text-gray-700"],[1,"mt-6"],["type","submit",1,"dark:bg-gray-900","text-white","font-semibold","px-6","py-2","rounded-lg","hover:dark:bg-gray-700","transition","duration-300"],[4,"ngTemplateOutlet"],[3,"value"],["type","radio","formControlName","selectedRating","name","selectedRating",1,"sr-only",3,"id","value"],[1,"text-2xl","cursor-pointer",3,"for","ngClass"],[1,"text-red-500","text-sm"]],template:function(i,g){1&i&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return g.toggleFormulario()}),e._uU(2,"Agregar Rese\xf1a "),e._UZ(3,"i",2),e.qZA()(),e.YNc(4,L,36,18,"div",3),e.YNc(5,M,2,0,"ng-template",null,4,e.W1O)),2&i&&(e.xp6(4),e.Q6J("ngIf",g.showFormResena))},dependencies:[s.mk,s.sg,s.O5,s.tP,o._Y,o.YN,o.Kr,o.Fj,o.EJ,o._,o.JJ,o.JL,o.sg,o.u]})}return t})(),Q=(()=>{class t{constructor(){this.imagem="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQeiHi4eafkwkeM01kRi8Af_4ZiqyKPneJ3eg&usqp=CAU"}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["resenas-inicio"]],decls:15,vars:0,consts:[[1,"relative","bg-blueGray-50"],[1,"relative","pt-16","pb-32","flex","content-center","items-center","justify-center","min-h-screen-75"],[1,"absolute","top-0","w-full","h-full","bg-center","bg-cover","bg-image"],["id","blackOverlay",1,"w-full","h-full","absolute","opacity-75","bg-black"],[1,"container","relative","mx-auto"],[1,"items-center","flex","flex-wrap"],[1,"w-full","lg:w-6/12","px-4","ml-auto","mr-auto","text-center"],[1,"pr-12"],[1,"text-white","font-semibold","text-5xl"],[1,"mt-4","text-lg","text-blueGray-200","text-white"],[1,"top-auto","bottom-0","left-0","right-0","w-full","absolute","pointer-events-none","overflow-hidden","h-70-px",2,"transform","translateZ(0px)"],["xmlns","http://www.w3.org/2000/svg","preserveAspectRatio","none","version","1.1","viewBox","0 0 2560 100","x","0","y","0",1,"absolute","bottom-0","overflow-hidden"],["points","2560 0 2560 100 0 100",1,"text-blueGray-200","fill-current"]],template:function(i,g){1&i&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2),e._UZ(3,"span",3),e.qZA(),e.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h1",8),e._uU(9," Rese\xf1as "),e.qZA(),e.TgZ(10,"p",9),e._uU(11," Califica nuestros destinos. "),e.qZA()()()()(),e.TgZ(12,"div",10),e.O4$(),e.TgZ(13,"svg",11),e._UZ(14,"polygon",12),e.qZA()()()())},styles:[".bg-image[_ngcontent-%COMP%]{background-image:url(/./assets/medellin.jpg)}"]})}return t})();var B=r(938);function D(t,c){if(1&t&&(e.TgZ(0,"div",2),e._UZ(1,"resenas-card",3),e.qZA()),2&t){const n=c.$implicit;e.xp6(1),e.Q6J("resena",n)}}let N=(()=>{class t{constructor(n){this.resenaService=n,this.listResena=[],this.slideIndex=0,this.slideWidth=300}ngOnInit(){this.resenaService.resenas$.subscribe(n=>{this.listResena=n}),this.getAllResenas(),this.startSlider()}get extendedListResena(){return[...this.listResena,...this.listResena]}startSlider(){setInterval(()=>{this.slideIndex=(this.slideIndex+1)%this.listResena.length},2e3)}getAllResenas(){this.resenaService.getAllResena().subscribe(n=>{this.listResena=n})}static#e=this.\u0275fac=function(i){return new(i||t)(e.Y36(l.u))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["resena-list"]],decls:2,vars:1,consts:[[1,"flex","flex-wrap","p-5"],["class","w-full sm:w-1/2 md:w-1/2 lg:w-1/3 rounded-xl border-spacing-10 ",4,"ngFor","ngForOf"],[1,"w-full","sm:w-1/2","md:w-1/2","lg:w-1/3","rounded-xl","border-spacing-10"],[3,"resena"]],template:function(i,g){1&i&&(e.TgZ(0,"div",0),e.YNc(1,D,2,1,"div",1),e.qZA()),2&i&&(e.xp6(1),e.Q6J("ngForOf",g.listResena))},dependencies:[s.sg,B.K],encapsulation:2})}return t})();function j(t,c){1&t&&e._UZ(0,"resena-registrar")}const Y=[{path:"",component:(()=>{class t{constructor(n){this.authService=n}get isTourist(){return this.authService.isTourist()}static#e=this.\u0275fac=function(i){return new(i||t)(e.Y36(f.e))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-resena-page"]],decls:3,vars:1,consts:[[4,"ngIf"]],template:function(i,g){1&i&&(e._UZ(0,"resenas-inicio"),e.YNc(1,j,1,0,"resena-registrar",0),e._UZ(2,"resena-list")),2&i&&(e.xp6(1),e.Q6J("ngIf",g.isTourist))},dependencies:[s.O5,J,Q,N]})}return t})()},{path:"**",redirectTo:""}];let q=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=e.oAB({type:t});static#n=this.\u0275inj=e.cJS({imports:[p.Bz.forChild(Y),p.Bz]})}return t})();var k=r(4466);let $=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=e.oAB({type:t});static#n=this.\u0275inj=e.cJS({imports:[s.ez,q,o.u5,o.UX,k.m]})}return t})()},4322:(x,m,r)=>{r.d(m,{u:()=>d});var s=r(7579),p=r(8505),e=r(8256),f=r(529),o=r(7440);let d=(()=>{class _{constructor(u,a){this.http=u,this.authService=a,this.URL_API="/api/resenas",this.resenasSubject=new s.x,this.resenas$=this.resenasSubject.asObservable(),this.resenasSubjectById=new s.x,this.resenasId$=this.resenasSubjectById.asObservable()}getAllResena(){return this.http.get(`${this.URL_API}`).pipe((0,p.b)(u=>{this.resenasSubject.next(u)}))}getAllResenaByTourId(u){return this.http.get(`${this.URL_API}/${u}`).pipe((0,p.b)(a=>{this.resenasSubjectById.next(a)}))}saveResena(u){return this.http.post(`${this.URL_API}/save`,u).pipe((0,p.b)(()=>{this.sendUpdate()}))}sendUpdate(){this.getAllResena().subscribe(u=>{this.resenasSubject.next(u)})}static#e=this.\u0275fac=function(a){return new(a||_)(e.LFG(f.eN),e.LFG(o.e))};static#t=this.\u0275prov=e.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},7279:(x,m,r)=>{r.d(m,{Q:()=>o});var s=r(7579),p=r(8505),e=r(8256),f=r(529);let o=(()=>{class d{constructor(l){this.http=l,this.URL_API="/api/tour",this.tourSubject=new s.x,this.tour$=this.tourSubject.asObservable()}getAllTour(){return this.http.get(`${this.URL_API}`)}findTourById(l){return this.http.get(`${this.URL_API}/${l}`)}getAllNotValidated(){return this.http.get(`${this.URL_API}/notvalidated`).pipe((0,p.b)(l=>{this.tourSubject.next(l)}))}sendUpdate(){this.getAllNotValidated().subscribe(l=>{this.tourSubject.next(l)})}deleteTour(l){return this.http.delete(`${this.URL_API}/${l}`).pipe((0,p.b)(()=>{this.sendUpdate()}))}saveTour(l){return l.imagen=this.deleteApiImage(l.imagen),this.http.post(`${this.URL_API}`,l).pipe((0,p.b)(()=>{this.sendUpdate()}))}deleteApiImage(l){const u=l.lastIndexOf("/");return-1!==u?l.substring(u+1):l}static#e=this.\u0275fac=function(u){return new(u||d)(e.LFG(f.eN))};static#t=this.\u0275prov=e.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})()}}]);