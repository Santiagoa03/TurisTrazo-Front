"use strict";(self.webpackChunkturisTrazo=self.webpackChunkturisTrazo||[]).push([[646],{3646:(ze,R,m)=>{m.r(R),m.d(R,{MensajesModule:()=>Me});var b=m(6895),a=m(8256),M=m(7579);let ae=(()=>{class t{constructor(e){this.document=e,this.width=this.getWidth()}getWidth(){const e=this.document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",this.document.body.appendChild(e);const n=e.offsetWidth;e.style.overflow="scroll";const i=this.document.createElement("div");i.style.width="100%",e.appendChild(i);const r=i.offsetWidth;return e.parentNode.removeChild(e),n-r}}return t.\u0275fac=function(e){return new(e||t)(a.LFG(b.K0))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac}),t})(),se=(()=>{class t{getDimensions(e){return e.getBoundingClientRect()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac}),t})(),le=(()=>{class t{constructor(){this.columnInputChanges=new M.x}get columnInputChanges$(){return this.columnInputChanges.asObservable()}onInputChange(){this.columnInputChanges.next()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac}),t})();const _={},P=typeof document<"u"?document.createElement("div").style:void 0,D=function(){const t=typeof window<"u"?window.getComputedStyle(document.documentElement,""):void 0,o=typeof t<"u"?Array.prototype.slice.call(t).join("").match(/-(moz|webkit|ms)-/):null,e=null!==o?o[1]:void 0,n=typeof e<"u"?"WebKit|Moz|MS|O".match(new RegExp("("+e+")","i"))[1]:void 0;return n?{dom:n,lowercase:e,css:`-${e}-`,js:e[0].toUpperCase()+e.substr(1)}:void 0}();function v(t){const o=function T(t){return(t=(t=(t=t.replace(/[^a-zA-Z0-9 ]/g," ")).replace(/([a-z](?=[A-Z]))/g,"$1 ")).replace(/([^a-zA-Z0-9 ])|^[0-9]+/g,"").trim().toLowerCase()).replace(/([ 0-9]+)([a-zA-Z])/g,function(o,e,n){return e.trim()+n.toUpperCase()})}(t);return _[o]||(void 0!==D&&void 0!==P[D.css+t]?_[o]=D.css+t:void 0!==P[t]&&(_[o]=t)),_[o]}typeof window<"u"&&v("transform"),typeof window<"u"&&v("backfaceVisibility"),typeof window<"u"&&v("transform"),typeof window<"u"&&v("perspective");const E=typeof window<"u"?window.navigator.userAgent:"Chrome";/Safari\//.test(E)&&/Chrome\//.test(E);let Se=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:"configuration",useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({providers:[ae,se,le],imports:[[b.ez]]}),t})();typeof document<"u"&&!document.elementsFromPoint&&(document.elementsFromPoint=function Ie(t,o){const e=[],n=[];let i,r,s;for(;(i=document.elementFromPoint(t,o))&&-1===e.indexOf(i)&&null!=i;)e.push(i),n.push({value:i.style.getPropertyValue("pointer-events"),priority:i.style.getPropertyPriority("pointer-events")}),i.style.setProperty("pointer-events","none","important");for(r=n.length;s=n[--r];)e[r].style.setProperty("pointer-events",s.value?s.value:"",s.priority);return e});var I=m(2045),Re=m(7185),He=m(7440),ke=m(1529);function Pe(t,o){if(1&t){const e=a.EpF();a.TgZ(0,"tr",8)(1,"td",9),a._uU(2),a.qZA(),a.TgZ(3,"td",9),a._uU(4),a.qZA(),a.TgZ(5,"td",9),a._uU(6),a.ALo(7,"date"),a.qZA(),a.TgZ(8,"td",9),a._uU(9),a.ALo(10,"number"),a.qZA(),a.TgZ(11,"td",9),a._uU(12),a.qZA(),a.TgZ(13,"td",10)(14,"button",11),a.NdJ("click",function(){const r=a.CHM(e).$implicit,s=a.oxw();return a.KtG(s.contactar(r.numeroContacto))}),a._uU(15,"Contactar "),a._UZ(16,"i",12),a.qZA(),a.TgZ(17,"button",13),a.NdJ("click",function(){const r=a.CHM(e).$implicit,s=a.oxw();return a.KtG(s.eliminar(r.id))}),a._uU(18,"Eliminar"),a.qZA()()()}if(2&t){const e=o.$implicit;a.xp6(2),a.Oqu(e.tour.nombre),a.xp6(2),a.hij("",e.numeroPersonas," "),a.xp6(2),a.hij("",a.lcZ(7,5,e.fecha)," "),a.xp6(3),a.hij("",a.lcZ(10,7,e.precioEstimado)," "),a.xp6(3),a.hij("",e.numeroContacto," ")}}const Ee=[{path:"",component:(()=>{class t{constructor(e,n,i,r){this.toastr=e,this.authService=n,this.reservaService=i,this.activatedRoute=r,this.listReservas=[],this.mensajes=!1,this.idGUia=0}ngOnInit(){if(this.authService.isLoggued()&&this.authService.isGuide()){const e=this.authService.getUser();e&&(this.idGUia=e.numeroIdentidad,this.reservaService.reserva$.subscribe(n=>{this.listReservas=n}),this.reservaService.getAllReservaByGuiaId(this.idGUia).subscribe(n=>{this.listReservas=n}))}}contactar(e){window.open(`https:wa.me/${e}`,"_blank")}eliminar(e){this.reservaService.deleteReserva(e,this.idGUia).subscribe(()=>{this.toastr.success("El mensaje fue eliminiado correctamente")},()=>{this.toastr.error("Error al eliminar el mensaje")})}static#e=this.\u0275fac=function(n){return new(n||t)(a.Y36(Re._W),a.Y36(He.e),a.Y36(ke.n),a.Y36(I.gz))};static#t=this.\u0275cmp=a.Xpm({type:t,selectors:[["reserva-mensaje"]],decls:22,vars:1,consts:[[1,"text-gray-900","bg-gray-200","m-auto","w-11/12","overflow-scroll"],[1,"p-4","flex"],[1,"text-3xl","m-auto","font-bold"],[1,"px-3","py-4","flex","justify-center"],[1,"w-full","text-md","bg-white","shadow-md","rounded","mb-4"],[1,"border-b"],[1,"text-left","p-3","px-5"],["class","border-b hover:bg-orange-100 bg-gray-100",4,"ngFor","ngForOf"],[1,"border-b","hover:bg-orange-100","bg-gray-100"],[1,"p-3","px-5"],[1,"p-3","px-5","flex","justify-start"],["type","button",1,"mr-3","text-sm","bg-green-800","hover:bg-blue-700","text-white","py-1","px-2","rounded","focus:outline-none","focus:shadow-outline",3,"click"],[1,"fa-brands","fa-whatsapp",2,"color","#fff"],["type","button",1,"mr-3","text-sm","bg-red-600","hover:bg-blue-700","text-white","py-1","px-2","rounded","focus:outline-none","focus:shadow-outline",3,"click"]],template:function(n,i){1&n&&(a.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),a._uU(3," Mensajes recibidos "),a.qZA()(),a.TgZ(4,"div",3)(5,"table",4)(6,"tbody")(7,"tr",5)(8,"th",6),a._uU(9,"Tour"),a.qZA(),a.TgZ(10,"th",6),a._uU(11,"N\xfamero de Personas"),a.qZA(),a.TgZ(12,"th",6),a._uU(13,"Fecha"),a.qZA(),a.TgZ(14,"th",6),a._uU(15,"Precio Total Estimado"),a.qZA(),a.TgZ(16,"th",6),a._uU(17,"N\xfamero de contacto"),a.qZA(),a.TgZ(18,"th",6),a._uU(19,"Acciones"),a.qZA(),a._UZ(20,"th"),a.qZA(),a.YNc(21,Pe,19,9,"tr",7),a.qZA()()()()),2&n&&(a.xp6(21),a.Q6J("ngForOf",i.listReservas))},dependencies:[b.sg,b.JJ,b.uU]})}return t})()}];let Fe=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=a.oAB({type:t});static#n=this.\u0275inj=a.cJS({imports:[I.Bz.forChild(Ee),I.Bz]})}return t})(),Me=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=a.oAB({type:t});static#n=this.\u0275inj=a.cJS({imports:[b.ez,Se,Fe]})}return t})()}}]);